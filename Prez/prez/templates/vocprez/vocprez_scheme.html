{% extends "vocprez/_vocprez_page.html" %}
{% from "_macros.html" import render_predicate, render_predicate_o, render_object, render_concept_hierarchy with context %}

{% set breadcrumbs = [
    {"label": "VocPrez", "url": url_for("dataset")},
    {"label": "Vocabs", "url": url_for("schemes")},
    {"label": scheme.title, "url": url_for("scheme", scheme_id=scheme.id)}
] %}
{% set vocprez_active_page = "vocabs" %}

{% block vocprez_content %}
<div id="content-col-main">
    <h1>
        {% if scheme.title is not none %}
            {{ scheme.title }}
        {% else %}
            ConceptScheme title
        {% endif %}
    </h1>
    <p>Instance URI: <a href="{{ uri }}">{{ scheme.uri }}</a><small><a href="{{ scheme.uri }}">(ext link)</a></small></p>
    {% if scheme.description is not none %}
        <div>
            <p>{{ scheme.description }}</p>
        </div>
    {% endif %}
    <table class="props-table">
        <tbody>
            {% for prop in scheme.properties %}
                <tr>
                    <th>{{ render_predicate(prop) }}</th>
                    <td>{{ render_object(prop) }}</td>
                </tr>
            {% endfor %}
            <tr>
                <th>Concepts</th>
                <td>
                    <ol style="list-style: none; padding-left: 0px;">
                        {% for concept_uri, concept_props in scheme.concepts.items() | sort(attribute = "1.label") %}
                            {{ render_concept_hierarchy(scheme.id, concept_uri, concept_props) }}
                        {% endfor %}
                    </ol>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div id="content-col-sidebar">
    {% include "alt_link.html" %}
</div>
{% endblock %}